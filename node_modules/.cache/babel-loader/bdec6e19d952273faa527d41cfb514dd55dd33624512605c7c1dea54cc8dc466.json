{"ast":null,"code":"import{Scrollbars}from'react-custom-scrollbars-2';import{useLayout}from'../../../contexts/use-layout';import{useTasks}from'../../../contexts/use-task';import{Card}from'./card/Card';import{useState}from'react';import css from'./column.module.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Column=props=>{const[isInputShown,setInputShown]=useState(false);const[isSelectShown,setSelectShown]=useState(false);const[selectedTask,setSelectedTask]=useState(undefined);const[inputValue,setInputValue]=useState('');const[isAddingTask,setAddingTask]=useState(false);const{mainContentHeight}=useLayout();const{getTasksByState,getTasksByExcludedState,addTask,removeTask,moveTask}=useTasks();const tasks=getTasksByState(props.state);const onChangeInput=e=>{setInputValue(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:css.column,children:[/*#__PURE__*/_jsx(\"div\",{className:css.header,children:props.name}),/*#__PURE__*/_jsxs(\"div\",{className:css.wrapper,children:[/*#__PURE__*/_jsxs(\"div\",{className:css.body,children:[tasks.length>0&&/*#__PURE__*/_jsx(Scrollbars,{autoHeightMax:mainContentHeight,autoHide:true,autoHeight:true,children:tasks.map((task,index)=>/*#__PURE__*/_jsx(Card,{id:task.id,name:task.name,onClickRemoveTask:id=>{removeTask(id);}},index))}),isInputShown&&/*#__PURE__*/_jsx(\"div\",{className:css.input,children:/*#__PURE__*/_jsx(\"input\",{className:css.input_block,type:\"text\",placeholder:\"Write some task\",value:inputValue,onChange:onChangeInput})}),isSelectShown&&/*#__PURE__*/_jsxs(\"select\",{className:css.select_block,onChange:e=>{console.log(e.target.value);setSelectedTask(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select some task\"}),getTasksByExcludedState(props.state).map((task,index)=>/*#__PURE__*/_jsx(\"option\",{value:index,children:task.name},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(css.footer,\" \").concat(isAddingTask?css.active:\"\"),children:[!isInputShown&&!isSelectShown&&/*#__PURE__*/_jsx(\"button\",{className:css.button_add,type:\"button\",onClick:()=>{if(props.state==='backlog'){setInputShown(true);}else{setSelectShown(true);}setAddingTask(true);},children:\" Add task\"}),(isInputShown||isSelectShown)&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"btn-submit\",disabled:!selectedTask&&!inputValue,className:css.button_submit,onClick:()=>{if(props.state==='backlog'){setInputShown(false);addTask(inputValue);setInputValue('');}else{setSelectShown(false);moveTask(selectedTask,props.state);}setAddingTask(false);// console.log(selectedTask)\n},children:\"Submit\"})]})]})]});};","map":{"version":3,"names":["Scrollbars","useLayout","useTasks","Card","useState","css","jsx","_jsx","jsxs","_jsxs","Column","props","isInputShown","setInputShown","isSelectShown","setSelectShown","selectedTask","setSelectedTask","undefined","inputValue","setInputValue","isAddingTask","setAddingTask","mainContentHeight","getTasksByState","getTasksByExcludedState","addTask","removeTask","moveTask","tasks","state","onChangeInput","e","target","value","className","column","children","header","name","wrapper","body","length","autoHeightMax","autoHide","autoHeight","map","task","index","id","onClickRemoveTask","input","input_block","type","placeholder","onChange","select_block","console","log","concat","footer","active","button_add","onClick","disabled","button_submit"],"sources":["/Users/olyalyzo/projects/hvvjhvhk/src/components/board/column/Column.jsx"],"sourcesContent":["import { Scrollbars } from 'react-custom-scrollbars-2';\nimport { useLayout } from '../../../contexts/use-layout';\nimport { useTasks } from '../../../contexts/use-task';\nimport { Card } from './card/Card';\nimport { useState } from 'react';\nimport css from './column.module.scss';\n\nexport const Column = (props)=>{\n  const [isInputShown, setInputShown] = useState(false);\n\tconst [isSelectShown, setSelectShown] = useState(false);\n\tconst [selectedTask, setSelectedTask] = useState(undefined);\n\tconst [inputValue, setInputValue] = useState('');\n\tconst [isAddingTask, setAddingTask] = useState(false);\n\tconst {mainContentHeight} = useLayout();\n\tconst {getTasksByState, getTasksByExcludedState, addTask, removeTask, moveTask} = useTasks();\n\t\n\tconst tasks = getTasksByState(props.state);\n\t\n\tconst onChangeInput = (e)=>{\n\t\tsetInputValue(e.target.value);\n\t}\n\n\treturn (\t\n\t\t<div className = {css.column}>\n\t\t\t<div className={css.header}>{props.name}</div>\n\t\t\t<div className={css.wrapper}>\n\t\t\t\t<div className={css.body}>\n\t\t\t\t\t{\n\t\t\t\t\t\ttasks.length > 0 && \n\t\t\t\t\t\t<Scrollbars autoHeightMax={mainContentHeight} autoHide autoHeight>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttasks.map((task, index) => <Card \n\t\t\t\t\t\t\t\tkey={index} \n\t\t\t\t\t\t\t\tid={task.id} \n\t\t\t\t\t\t\t\tname={task.name} \n\t\t\t\t\t\t\t\tonClickRemoveTask={(id) => {removeTask(id)}}/>)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</Scrollbars>\n\t\t\t\t\t}\t\t\t\n\t\t\t\t\t{isInputShown && (\n\t\t\t\t\t\t<div className={css.input}>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t  className={css.input_block}\n\t\t\t\t\t\t\t\ttype='text' \n\t\t\t\t\t\t\t\tplaceholder='Write some task'\n\t\t\t\t\t\t\t\tvalue={inputValue} \n\t\t\t\t\t\t\t\tonChange={onChangeInput}\n\t\t\t\t\t\t\t/> \n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\t\n\t\t\t\t\t{isSelectShown && (\n\t\t\t\t\t\t<select \n\t\t\t\t\t\t\tclassName={css.select_block} \n\t\t\t\t\t\t\tonChange={(e)=>{\n\t\t\t\t\t\t\t\tconsole.log(e.target.value);\n\t\t\t\t\t\t\t\tsetSelectedTask(e.target.value)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option>Select some task</option>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tgetTasksByExcludedState(props.state).map((task, index) => (\n\t\t\t\t\t\t\t\t<option key={index} value={index}>{task.name}</option>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className={`${css.footer} ${isAddingTask ? css.active : \"\"}`}> \n\t\t\t\t\t{\n\t\t\t\t\t\t(!isInputShown && !isSelectShown)\n\t\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\tclassName={css.button_add}\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tif(props.state === 'backlog'){ \n\t\t\t\t\t\t\t\t\t\t\t\tsetInputShown(true);\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectShown(true)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetAddingTask(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t> Add task\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\t(isInputShown || isSelectShown)\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\tid='btn-submit'\n\t\t\t\t\t\t\t\t\t\tdisabled={!selectedTask && !inputValue}\n\t\t\t\t\t\t\t\t\t\tclassName={css.button_submit}\n\t\t\t\t\t\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\t\t\t\t\t\tif(props.state === 'backlog'){\n\t\t\t\t\t\t\t\t\t\t\t\tsetInputShown(false);\n\t\t\t\t\t\t\t\t\t\t\t\taddTask(inputValue);\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tsetInputValue('');\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectShown(false);\n\t\t\t\t\t\t\t\t\t\t\t\tmoveTask(selectedTask, props.state)\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\t\t\t\tsetAddingTask(false);\n\t\t\t\t\t\t\t\t\t\t\t// console.log(selectedTask)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>Submit\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n)\n}\n\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\t \n\t\t\t\t"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}