{"ast":null,"code":"var _jsxFileName = \"/Users/olyalyzo/projects/kanban-board/src/contexts/task-provider.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { TaskContext } from '../contexts/task-context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TaskProvider = props => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [isLoaded, setLoaded] = useState(false);\n  const [states] = useState([{\n    id: 1,\n    name: 'Backlog',\n    state: 'backlog'\n  }, {\n    id: 2,\n    name: 'Ready',\n    state: 'ready'\n  }, {\n    id: 3,\n    name: 'In progress',\n    state: 'inProgress'\n  }, {\n    id: 4,\n    name: 'Finished',\n    state: 'finished'\n  }]);\n  const findTaskById = id => tasks.find(task => task.id === parseInt(id));\n  useEffect(() => {\n    if (isLoaded) {\n      localStorage.setItem('tasks', JSON.stringify(tasks));\n    }\n  }, [isLoaded, tasks]);\n  useEffect(() => {\n    const tasks = localStorage.getItem('tasks');\n    if (tasks) {\n      setTasks(JSON.parse(tasks));\n    }\n    setLoaded(true);\n  }, []);\n  const context = {\n    states,\n    addTask: name => {\n      const id = new Date().getTime();\n      console.log;\n      console.log('id', id);\n      const task = {\n        id,\n        name,\n        state: 'backlog'\n      };\n      console.log('task', task);\n      setTasks([...tasks, task]);\n    },\n    updateTask: item => {\n      const task = findTaskById(item.id);\n      task.name = item.name;\n      task.description = item.description;\n      setTasks([...tasks]);\n    },\n    removeTask: id => {\n      const task = findTaskById(id);\n      if (task) {\n        setTasks([...tasks.filter(item => item.id !== task.id)]);\n      }\n    },\n    getTaskById: findTaskById,\n    getTasksByState: state => {\n      return tasks.filter(task => task.state === state);\n    },\n    getTasksByExcludedState: state => {\n      return tasks.filter(task => task.state !== state);\n    },\n    moveTask: (id, state) => {\n      const task = findTaskById(id);\n      if (task) {\n        task.state = state;\n      }\n      setTasks([...tasks]);\n    },\n    getActiveTasksCount: () => {\n      return tasks.filter(task => task.state === 'inProgress' || task.state === 'ready').length;\n    },\n    getFinishedTasksCount: () => {\n      return tasks.filter(task => task.state === 'finished').length;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(TaskContext.Provider, {\n    value: context,\n    children: isLoaded && props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 3\n  }, this);\n};\n_s(TaskProvider, \"z7hw4FN3XarHY5zvYeuIElC+VyI=\");\n_c = TaskProvider;\nvar _c;\n$RefreshReg$(_c, \"TaskProvider\");","map":{"version":3,"names":["useEffect","useState","TaskContext","jsxDEV","_jsxDEV","TaskProvider","props","_s","tasks","setTasks","isLoaded","setLoaded","states","id","name","state","findTaskById","find","task","parseInt","localStorage","setItem","JSON","stringify","getItem","parse","context","addTask","Date","getTime","console","log","updateTask","item","description","removeTask","filter","getTaskById","getTasksByState","getTasksByExcludedState","moveTask","getActiveTasksCount","length","getFinishedTasksCount","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/olyalyzo/projects/kanban-board/src/contexts/task-provider.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { TaskContext } from '../contexts/task-context';\n\nexport const TaskProvider = (props)=>{\n\t\n\tconst [tasks, setTasks] = useState([]);\n\tconst [isLoaded, setLoaded] = useState(false);\n\t\n\tconst [states] = useState([\n\t\t  {id: 1, name: 'Backlog', state: 'backlog'},\n      {id: 2, name: 'Ready', state: 'ready'},\n      {id: 3, name: 'In progress', state: 'inProgress'},\n\t\t\t{id: 4, name: 'Finished', state: 'finished'},\n  ]);\n\n\tconst findTaskById = (id) => tasks.find(task => task.id === parseInt(id));\n\t\n\tuseEffect(()=>{\n\t\tif(isLoaded){\n\t\t\tlocalStorage.setItem('tasks', JSON.stringify(tasks));\n\t\t}\n\t},[isLoaded, tasks]);\n\n\tuseEffect(()=>{\n\t\tconst tasks = localStorage.getItem('tasks');\n\t\tif(tasks){\n\t\t\tsetTasks(JSON.parse(tasks));\n\t\t}\n\t\tsetLoaded(true);\n\t},[])\n\n\tconst context = {\n\t\tstates,\n\t\taddTask: (name)=>{\n\t\t\tconst id = (new Date()).getTime();\n\t\t\tconsole.log\n\t\t\tconsole.log('id', id);\n\t\t  const task = {\n\t\t\t\tid, \n\t\t\t\tname, \n\t\t\t\tstate: 'backlog'\n\t\t\t};\n\t\t\tconsole.log('task', task)\n\t\t\tsetTasks([...tasks, task]);\n\t\t},\n\t\tupdateTask: (item)=>{\n\t\t\tconst task = findTaskById(item.id);\n\t\t\ttask.name = item.name;\n\t\t\ttask.description = item.description;\n\t\t\tsetTasks([...tasks]);\n\t\t},\n\t\tremoveTask: (id)=>{\n\t\t\tconst task = findTaskById(id);\n\t\t\tif(task){\n\t\t\t\tsetTasks([...tasks.filter(item => \n\t\t\t\t\titem.id !== task.id\n\t\t\t\t\t)]);\n\t\t\t}\n\t\t},\n\t\tgetTaskById: findTaskById,\n\t\tgetTasksByState: (state)=>{\n\t\t\treturn tasks.filter(task => task.state === state);\n\t\t},\n\t\tgetTasksByExcludedState: (state)=>{\n\t\t\treturn tasks.filter(task => task.state !== state);\n\t\t},\n\t\tmoveTask: (id, state)=>{\n\t\t\tconst task = findTaskById(id);\n\t\t\tif(task){\n\t\t\t\ttask.state = state;\n\t\t\t}\n\t\t\tsetTasks([...tasks]);\n\t\t},\n\t\tgetActiveTasksCount: ()=>{\n\t\t\treturn tasks.filter(task => task.state === 'inProgress' || task.state === 'ready').length;\n\t\t},\n\t\tgetFinishedTasksCount: ()=>{\n\t\t\treturn tasks.filter(task => task.state === 'finished').length;\n\t\t}\n\t};\n\n\treturn (\n\t\t<TaskContext.Provider value={context}>\n\t\t\t\t{isLoaded && props.children}\n\t\t</TaskContext.Provider>\n\t)\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}